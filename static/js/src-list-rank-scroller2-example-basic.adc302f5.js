(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"./src/list/RankScroller2/example/Basic.mdx":function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return y}));var n=a("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),r=a("./node_modules/react/index.js"),s=a.n(r),c=a("./node_modules/@mdx-js/react/dist/esm.js"),i=a("./node_modules/docz/dist/index.esm.js"),l=a("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),b=a("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=a("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js"),m=a("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js"),d=a("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),p=a("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=a("./node_modules/d3/index.js"),j=a("./node_modules/classnames/index.js"),g=a.n(j);a("./src/list/RankScroller2/style.scss");var O=function(e){Object(m.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,n=Object(p.a)(e);if(t()){var r=Object(p.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(d.a)(this,a)}}(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).initAxis=function(){var e=n.svg.append("g").attr("transform","translate("+n.margin.left+","+n.margin.top+")");e.append("g").attr("class","x-axis"),e.append("g").attr("class","y-axis")},n.drawAxis=function(){var e=n.props,t=e.data,a=e.showCount,r=n.svg.node().parentNode.offsetWidth-n.margin.left,s=n.svg.node().parentNode.offsetHeight-n.margin.bottom,c=u.e(t,(function(e){return e.value})),i=u.f().domain([0,c]).range([0,r]),l=u.f().domain([0,a]).range([s,0]);n.percentScale=u.f().domain([0,c]).range([0,100]);var b=u.a(i).ticks(5).tickSizeOuter(0),o=u.b(l).tickValues(Array.from({length:a+1}).map((function(e,t){return t}))).tickSizeOuter(0);n.svg.select("g.x-axis").attr("transform","translate(0,"+s+")").transition().call(b);var m=n.svg.select("g.y-axis").call(o);n.svg.selectAll("g.x-axis g.tick line.grid").remove(),n.svg.selectAll("g.x-axis g.tick:not(:first-of-type)").append("line").attr("class","grid").attr("y2",-s),m.selectAll("text,line").remove(),n.svg.selectAll("g.y-axis g.tick:not(:first-of-type):not(:last-of-type)").append("line").attr("class","grid").attr("x2",r)},n.startAnimateData=function(){var e=n.props;clearInterval(n.timerKey),n._renderData([]);var t=e.showCount,a=e.data.map((function(e,t){return Object(l.a)(Object(l.a)({},e),{},{innerIndex:t})})),r=a.slice(0,t),s=t;n._renderData(r),a.length>t&&(n.timerKey=setInterval((function(){r.shift(),s=s+1>a.length-1?0:s+1,r.push(a[s]),n._renderData(r)}),n.props.interval))},n._renderData=function(e){var t=n.props,a=t.showCount,r=t.left,s=(n.svg.node().parentNode.offsetHeight-n.margin.bottom)/a;function c(e){return s/2+e*s+"px"}var i=u.g(n.ref.current).selectAll("div.item").data(e,(function(e){return e.innerIndex}));if(0!==e.length){var l=i.enter().append("div").attr("class","item"),b=u.h().duration(500).ease(u.c);l.append("label").text((function(e){return e.name})).style("width",r+"px"),l.append("div").style("--width",(function(e){return"calc(".concat(n.percentScale(e.value)+"%"," - 8px)")})).style("margin-left","8px"),l.style("top",(function(e,t){return c(t+1)})).transition(b).style("top",(function(e,t){return c(t)})),i.transition(b).style("top",(function(e,t){return c(t)})),i.exit().transition(b).style("top",(function(){return c(-1)})).remove()}else i.exit().remove()},n.ref=s.a.createRef(),n.margin={top:0,right:0,bottom:e.bottom,left:e.left},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.initAxis(),this.drawAxis(),this.startAnimateData()}},{key:"componentDidUpdate",value:function(e,t,a){e.data!==this.props.data?(this.drawAxis(),this.startAnimateData()):e.style!==this.props.style&&this.drawAxis()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerKey)}},{key:"render",value:function(){var e=this,t=this.props;return s.a.createElement("div",{style:t.style,className:g()("dui-rank-scroller2",t.className)},s.a.createElement("svg",{width:"100%",height:"100%",ref:function(t){return e.svg=u.g(t)}}),s.a.createElement("div",{ref:this.ref,className:"item-container",style:Object(l.a)(Object(l.a)({},this.margin),{},{left:0,right:0})}))}}]),a}(s.a.Component);O.defaultProps={data:[],showCount:7,interval:3200,left:120,bottom:32},"undefined"!==typeof O&&O&&O===Object(O)&&Object.isExtensible(O)&&Object.defineProperty(O,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"RankScroller2",filename:"src/list/RankScroller2/RankScroller2.jsx"}}),"undefined"!==typeof O&&O&&O===Object(O)&&Object.isExtensible(O)&&Object.defineProperty(O,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"RankScroller2",filename:"src/list/RankScroller2/RankScroller2.jsx"}});var f=O;"undefined"!==typeof O&&O&&O===Object(O)&&Object.isExtensible(O)&&Object.defineProperty(O,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"RankScroller2",filename:"src/list/RankScroller2/index.js"}});var v=a("./src/list/RankScroller2/example/data.json"),h={};function y(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(c.b)("wrapper",Object.assign({},h,a,{components:t,mdxType:"MDXLayout"}),Object(c.b)("h2",{id:"\u7ec4\u4ef6\u540d"},"\u7ec4\u4ef6\u540d"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"RankScroller2")),Object(c.b)("h2",{id:"\u57fa\u672c\u5c5e\u6027"},"\u57fa\u672c\u5c5e\u6027"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object.assign({parentName:"tr"},{align:"center"}),"\u5c5e\u6027\u540d"),Object(c.b)("th",Object.assign({parentName:"tr"},{align:"center"}),"\u63cf\u8ff0"),Object(c.b)("th",Object.assign({parentName:"tr"},{align:"center"}),"\u7c7b\u578b"),Object(c.b)("th",Object.assign({parentName:"tr"},{align:"center"}),"\u9ed8\u8ba4\u503c"),Object(c.b)("th",Object.assign({parentName:"tr"},{align:"center"}),"\u5fc5\u586b\u9879"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}),"data"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}),"\u6570\u636e\u6e90"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}),"array"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}),"[]"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}),"\u662f")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}),"showCount"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}),"\u663e\u793a\u6570\u91cf"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}),"number"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}),"7"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}),"interval"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}),"\u6eda\u52a8\u95f4\u9694"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}),"number"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}),"2000"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}),"left"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}),"y\u8f74\u5de6\u8ddd\u79bb"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}),"number"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}),"120"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}),"bottom"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}),"x\u8f74\u5e95\u90e8\u8ddd\u79bb"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}),"number"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}),"32"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}),"style"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}),"\u6837\u5f0f"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}),"Object"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"})),Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}),"className"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}),"\u7c7b\u540d"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}),"String"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"})),Object(c.b)("td",Object.assign({parentName:"tr"},{align:"center"}))))),Object(c.b)("h2",{id:"\u57fa\u672c\u4f7f\u7528"},"\u57fa\u672c\u4f7f\u7528"),Object(c.b)(i.c,{__position:0,__code:"<RankScroller2 data={data} style={{ height: 500 }} />",__scope:{props:this?this.props:a,Playground:i.c,RankScroller2:f,data:v},mdxType:"Playground"},Object(c.b)(f,{data:v,style:{height:500},mdxType:"RankScroller2"})))}y&&y===Object(y)&&Object.isExtensible(y)&&Object.defineProperty(y,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"src/list/RankScroller2/example/Basic.mdx"}}),y.isMDXComponent=!0},"./src/list/RankScroller2/example/data.json":function(e){e.exports=JSON.parse('[{"name":"\u6025\u6027\u4e0a\u547c\u5438\u9053\u611f\u67d3","value":64861},{"name":"\u539f\u53d1\u6027\u9ad8\u8840\u538b","value":16963},{"name":"\u6025\u6027\u54bd\u5589\u708e","value":14703},{"name":"\u9ad8\u8840\u538b2\u7ea7","value":13315},{"name":"\u6025\u6027\u652f\u6c14\u7ba1\u708e ","value":12774},{"name":"\u6025\u6027\u652f\u6c14\u7ba1\u708e","value":9201},{"name":"\u6025\u6027\u54bd\u708e","value":9185},{"name":"\u652f\u6c14\u7ba1\u708e","value":7115},{"name":"\u6025\u6027\u80c3\u80a0\u708e","value":6292},{"name":"\u9ad8\u8840\u538b3\u7ea7","value":6099},{"name":"2\u578b\u7cd6\u5c3f\u75c5\u4e0d\u4f34\u6709\u5e76\u53d1\u75c7","value":5912},{"name":"\u6df7\u5408\u578b\u9888\u690e\u75c5","value":5802},{"name":"\u6025\u6027\u6241\u6843\u4f53\u708e","value":5635},{"name":"\u8fc7\u654f\u6027\u76ae\u708e","value":5222},{"name":"\u6b63\u5e38\u598a\u5a20\u76d1\u7763 ","value":5021},{"name":"\u80c3\u80a0\u708e","value":5000},{"name":"\u6025\u6027\u9f3b\u54bd\u708e[\u611f\u5192]","value":4743},{"name":"\u6162\u6027\u80c3\u708e","value":4662},{"name":"\u9ad8\u8840\u538b1\u7ea7","value":4252},{"name":"\u5934\u6655\u548c\u7729\u6655","value":4238}]')},"./src/list/RankScroller2/style.scss":function(e,t,a){}}]);
//# sourceMappingURL=src-list-rank-scroller2-example-basic.86bcc47ebb5106a8d08d.js.map