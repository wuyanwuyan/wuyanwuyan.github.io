{"version":3,"sources":["/Users/apple/codes/dataVision-dui/src/Text/ScrollText/ScrollText.jsx","/Users/apple/codes/dataVision-dui/src/Text/ScrollText/index.js","/Users/apple/codes/dataVision-dui/src/Text/ScrollText/example/Basic.mdx"],"names":["ScrollText","props","onUpdate","gap","rootHeight","ReactDOM","findDOMNode","offsetHeight","cntHeight","cnt","current","state","overflow","setState","anime","remove","cnt2","speed","duration","style","transform","targets","translateY","easing","complete","anim","target","animatables","React","createRef","this","prevProps","prevState","children","className","cx","ref","textClassName","textStyle","PureComponent","defaultProps","layoutProps","MDXContent","components","mdxType","parentName","__position","__code","__scope","Playground","width","height","border","marginTop","isMDXComponent"],"mappings":"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","file":"static/js/src-text-scroll-text-example-basic.dedb3a39.js","sourcesContent":["import React from 'react'\nimport ReactDOM from 'react-dom'\nimport cx from 'classnames'\nimport PropTypes from 'prop-types'\nimport './style.scss'\nimport anime from 'animejs'\n\nexport default class ScrollText extends React.PureComponent {\n  constructor (props) {\n    super(props)\n    this.state = {\n      overflow: false\n    }\n    this.cnt = React.createRef()\n    this.cnt2 = React.createRef()\n\n    this.speed = 1\n  }\n\n  componentDidMount () {\n    this.onUpdate()\n  }\n\n  componentDidUpdate (prevProps, prevState) {\n    if (prevProps.children !== this.props.children || prevProps.duration !== this.props.duration) {\n      this.onUpdate()\n    }\n  }\n\n  onUpdate = () => {\n    const gap = this.props.gap\n    let rootHeight = ReactDOM.findDOMNode(this).offsetHeight\n    let cntHeight = this.cnt.current.offsetHeight\n    if (rootHeight >= cntHeight) {\n      this.state.overflow && this.setState({overflow: false})\n      anime.remove(this.cnt.current)\n      anime.remove(this.cnt2.current)\n      return\n    }\n\n    this.speed = cntHeight / this.props.duration\n\n    this.setState({overflow: true}, () => {\n      this.cnt.current.style.transform = `translateY(0px)`\n      anime({\n        targets: this.cnt.current,\n        translateY: -cntHeight - gap,\n        easing: 'linear',\n        duration: (cntHeight + gap) / this.speed,\n        complete: this.complete\n      })\n\n      this.cnt2.current.style.transform = `translateY(${cntHeight + gap}px)`\n      anime({\n        targets: this.cnt2.current,\n        translateY: -cntHeight - gap,\n        easing: 'linear',\n        duration: (cntHeight + cntHeight + gap + gap) / this.speed,\n        complete: this.complete\n      })\n    })\n  }\n\n  componentWillUnmount () {\n    anime.remove(this.cnt.current)\n    anime.remove(this.cnt2.current)\n  }\n\n  complete = anim => {\n    const target = anim.animatables[0].target\n    const gap = this.props.gap\n    let cntHeight = target.offsetHeight\n    target.style.transform = `translateY(${cntHeight + gap}px)`\n    anime({\n      targets: target,\n      translateY: -cntHeight - gap,\n      easing: 'linear',\n      duration: (cntHeight + cntHeight + gap + gap) / this.speed,\n      complete: this.complete\n    })\n  }\n\n  render () {\n    const {props, state} = this\n    return (\n      <div className={cx('dui-scroll-text', props.className)} style={props.style}>\n        <div ref={this.cnt} className={cx('dui-scroll-text-cnt', props.textClassName)} style={props.textStyle}>\n          {\n            props.children\n          }\n        </div>\n        {\n          state.overflow &&\n          <div ref={this.cnt2} className={cx('dui-scroll-text-cnt', props.textClassName)} style={props.textStyle}>\n            {\n              props.children\n            }\n          </div>\n        }\n      </div>\n    )\n  }\n}\n\nScrollText.defaultProps = {\n  children: '滚动文本，溢出时滚动',\n  duration: 5000,\n  gap: 5,\n  style: {}\n}\n\nScrollText.propTypes = {\n  children: PropTypes.string.isRequired,\n  duration: PropTypes.number\n}\n","import ScrollText from './ScrollText'\n\nexport default ScrollText\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\n\n/* @jsx mdx */\nimport { Playground } from 'docz'\nimport ScrollText from '../index'\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"scrolltext-溢出滚动文本\"\n    }}>{`ScrollText 溢出滚动文本`}</h2>\n    <p>{`多行文本，当溢出时，将滚动`}</p>\n    <h2 {...{\n      \"id\": \"基本属性\"\n    }}>{`基本属性`}</h2>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`属性名`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`描述`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`类型`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`默认值`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`必填项`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`children`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`文本内容`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`string`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}></td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`是`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`duration`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`滚动持续时间`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`number`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`5000ms`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`是`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`gap`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`溢出滚动时，两个滚动内容的上下间距`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`number`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`5`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}></td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`style`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`根样式`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`Object`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}></td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`否`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`className`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`根类名`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`String`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}></td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`否`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`textClassName`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`滚动文本的类名`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`String`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}></td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}></td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`textStyle`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`滚动文本的样式`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`object`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}></td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}></td>\n        </tr>\n      </tbody>\n    </table>\n    <h2 {...{\n      \"id\": \"代码演示\"\n    }}>{`代码演示`}</h2>\n    <Playground __position={0} __code={'<ScrollText style={{ width: 400, height: 300, border: \\'1px red solid\\' }}>\\n  CECDATA\\n  提供运营动态直播、数据综合展示、设备监控预警等多种场景模板，稍加修改就能够直接服务于您的可视化需求。通过拖拽即可实现灵活的可视化布局，在模板的基础上任何人都能够发挥创意，实现您自己的可视化应用。支持阿里云分析数据库、关系型数据库、Restful\\n  API、CSV、静态JSON等多种数据来源，且能够动态轮询。能够实现多个数据源汇聚于一个可视化界面中\\n</ScrollText>\\n<ScrollText\\n  style={{ width: 300, height: 200, border: \\'1px red solid\\', marginTop: 10 }}\\n>\\n  CECDATA\\n  提供运营动态直播、数据综合展示、设备监控预警等多种场景模板，稍加修改就能够直接服务于您的可视化需求。通过拖拽即可实现灵活的可视化布局，在模板的基础上任何人都能够发挥创意，实现您自己的可视化应用。支持阿里云分析数据库、关系型数据库、Restful\\n  API、CSV、静态JSON等多种数据来源，且能够动态轮询。能够实现多个数据源汇聚于一个可视化界面中\\n</ScrollText>'} __scope={{\n      props: this ? this.props : props,\n      Playground,\n      ScrollText\n    }} mdxType=\"Playground\">\n      <ScrollText style={{\n        width: 400,\n        height: 300,\n        border: '1px red solid'\n      }} mdxType=\"ScrollText\">\n    CECDATA 提供运营动态直播、数据综合展示、设备监控预警等多种场景模板，稍加修改就能够直接服务于您的可视化需求。通过拖拽即可实现灵活的可视化布局，在模板的基础上任何人都能够发挥创意，实现您自己的可视化应用。支持阿里云分析数据库、关系型数据库、Restful API、CSV、静态JSON等多种数据来源，且能够动态轮询。能够实现多个数据源汇聚于一个可视化界面中\n      </ScrollText>\n      <ScrollText style={{\n        width: 300,\n        height: 200,\n        border: '1px red solid',\n        marginTop: 10\n      }} mdxType=\"ScrollText\">\n    CECDATA 提供运营动态直播、数据综合展示、设备监控预警等多种场景模板，稍加修改就能够直接服务于您的可视化需求。通过拖拽即可实现灵活的可视化布局，在模板的基础上任何人都能够发挥创意，实现您自己的可视化应用。支持阿里云分析数据库、关系型数据库、Restful API、CSV、静态JSON等多种数据来源，且能够动态轮询。能够实现多个数据源汇聚于一个可视化界面中\n      </ScrollText>\n    </Playground>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"],"sourceRoot":""}